<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.justboot.mapper.EmpMapper">
	  
	  <sql id="commonSelect">
		 select id, username, `password`, `name`, gender, image, job, entrydate,
		 create_time, update_time from tb_emp   
	  </sql>
	  
	  <select id="search" resultType="com.justboot.pojo.Category">
	    select * from category
	    <where>
	       <if test="catName != null">
	           cat_name = #{catName}
	       </if>
	        <if test="catAlias != null">
	           and cat_alias = #{catAlias}
	       </if>
	        <if test="createId != null">
	           and create_id = #{createId}
	       </if>
	     	      
	    </where>
	  </select>
	  
 
	  
	  <update id="">
		  update category 
		  <set>
		    <if test="username != null">username = #{username}, </if>
		    <if test="name != null">`name` = #{name},</if>

		  </set> 	
		  where id = #{id}
		  
	  </update>
	  
	  <select id="list" resultType="com.justboot.pojo.Emp">
		  <include refid="commonSelect"/>
       <where>
		  <if test="name != null">
			  `name` like concat('%',#{name},'%')
		  </if>
		  <if test="gender != null">
			  and gender = #{gender}
		  </if>
		  <if test="begin != null and end != null">
			  and entrydate between #{begin} and #{end}
		  </if>
		</where>  
	  </select>
	  
  </mapper>
  
  